---
title: "Linuxコマンド チートシート"
emoji: "🎉"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["リナックス", "linux"]
published: false
---

# 概要（目的）

- 基本的な Linux コマンドを整理した記事です。
- cheat sheet が目的なので、細かい説明は割愛します。

# Linux の cheat sheet

## 基本コマンド

```
# pwd：現在のディレクトリパスを出力
$ pwd

# ディレクトリ移動
$ cd /var/log/apt # /var/log/aptという場所へ経路移動

# 現在のディレクトリ内部ファイル照会
$ ls -l # 現在のディレクトリ内部ファイル照会(ls) + 詳細情報照会(-l)
$ ls -a # 現在のディレクトリ内部ファイル照会(ls) + 非表示ファイル照会 (-a)
$ ls -al # 現在のディレクトリ内部ファイル照会(ls) + 非表示ファイル照会(-a) + 詳細情報照会(-l)

# 一般ファイル作成(空のファイル作成)
$ touch [ファイル名]

# ディレクトリ作成
$ mkdir [ディレクトリ名]

# 削除
$ rm [ファイル名] # ファイル削除
$ rm -r [ディレクトリ名]　# ディレクトリ削除
$ rm -rf [ファイル名]　# ディレクトリ or ファイル削除

# ファイルコピー
cp [コピーするファイル]　[コピーする場所 or コピーするファイル名]
cp -r [コピーするディレクトリ]　[コピーする場所 or コピーするディレクトリ名]

# ファイルとディレクトリの移動 or 名前変更
$ mv [移動するファイル] [移動する位置]

# ファイルとディレクトリの名前変更
$ mv [名前を変更するファイル] [変更するファイル名]

```

- rm -rf は強力なので実行前にパスを必ず確認してください。

## ファイルを作成/照会するときによく使用するコマンド

Linux 環境では、Linux 環境に最適化されたテキストエディタを主に使用しますが、その例としては vim、nano、emacs などがあります。
ここでは vim を使います。

```
# ファイル作成 (+ vimを開く)
$ vi [ファイル名]
$ vim [ファイル名]

# ファイルに作成された内容の表示方法
$ vi [ファイル名]
$ cat [ファイル名]
```

## ファイルの権限変更

```
# chmod [数字3桁] [権限変更するファイル名]
$ chmod 777 script.sh
$ chmod 644 script.sh
$ chmod 755 script.sh
```

## 外部プログラムをインストールする際に使用するパッケージマネージャー(apt)

```
# パッケージインストール
$ sudo apt install [パッケージ名]

# パッケージリスト再進化
$ sudo apt update

# 現在コンピューターにインストールされているすべてのパッケージのリストを出力
$ sudo apt list --installed

# grepを活用して、インストールされている特定のパッケージを確認
$ sudo apt list --installed | grep [パッケージ名]

# パッケージ削除
$ sudo apt purge --auto-remove [パッケージ名]
```

## ログを残すときによく使う標準出力(stdout)、標準エラー出力(stderr)

```
# 標準出力の例
$ ls > list.txt # 既存ファイルへの上書き
$ ls >> list.txt # 既存ファイルに続けて書き込み

# 標準エラー出力の例：ls abcのようにパラメータを間違って入力した結果がlist3.txtファイルに保存
$ ls abc 2> list3.txt # 既存ファイルへの上書き
$ ls abc 2>> list3.txt # 既存ファイルに続けて書き込み


# 「標準出力」と「標準エラー出力」の両方をファイルで出力するには？
# 異なるファイルで出力するようにしたい場合
$ ls > list.txt 2> error.txt

# 同じファイルで出力させたい場合
$ ls > all.txt 2>&1
```

## 実務でよく使用されるコマンド

```
# 特定のキーワードが入った文章だけを探したい時(grep)
## ls -alの出力値の中でbinが入った文章のみ出力
$ ls -al | grep bin
## 「|」前のコマンドの出力値の中でpythonが入った文章のみ出力
$ sudo apt list --installed | grep python

# 実行中のすべてのプロセス照会
$ ps aux

# 実行中のすべてのプロセス照会（特定キーワード付）
$ ps aux | grep amazon

# プロセス終了
$ kill [PID値]

# バックグラウンドでプロセスを実行
nohup [プログラムを実行するコマンド] &

# バックグラウンドでプロセスを実行例：Laravel
$ nohup php artisan serve --host=0.0.0.0 --port=8000 &

# バックグラウンドで実行されているプロセスのnohup.outファイル以外のファイルにログが残るように
$ nohup php artisan serve --host=0.0.0.0 --port=8000 > laravel.log 2>&1 &

# 特定のポート番号で実行されているプロセスを照会
$ $ sudo lsof -i:[ポート番号]

# Curlリクエスト
# GET
$ curl http://example.com/api/data

# POST
$ curl -X POST http://localhost:8080/api/users \
     -H "Content-Type: application/json" \
     -d '{"name": "テストネーム", "email": "test@example.com"}'

# マイIPアドレスを確認
$ curl ifconfig.me

# Private IPアドレスの見つけ方
$ ip a

# CPU、Memory性能チェック
$ top

# リアルタイムログ確認
$ tail -f [ファイル名]
```

- Private IP アドレスの見つけ方
  - `ip a`コマンドを入力した後、2 番目の`inet`の後にある値が Private IP アドレスです
- CPU、Memory 性能チェック
  - `%CPU(s)`の項目で`id`部分の値が CPU の余裕度を示します
  - `MiB Mem`の項目で`free`部分の値は残っているメモリの大きさを示します
